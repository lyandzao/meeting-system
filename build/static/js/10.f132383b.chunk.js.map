{"version":3,"sources":["components/commons/Button/Button.tsx","components/commons/Button/index.ts","components/commons/Button/Button.module.scss","services/apis/item.ts","assets/images/item-default@2x.png","utils/itemDataTransfer.ts","components/commons/ProjectItem/ProjectItem.module.scss","components/commons/Retry/index.tsx","components/commons/Retry/Retry.module.scss","components/commons/ProjectItem/ProjectItem.tsx","components/commons/ProjectItem/index.ts","pages/Center/Favorite/Favorite.module.scss","pages/Center/Favorite/index.tsx"],"names":["MyButton","type","value","className","color","fontSize","onClick","loading","disabled","size","htmlType","style","btn","module","exports","publishItem","meetingJson","taskJson","guestJson","post","config","data","encodeURIComponent","JSON","stringify","msg","getHomeItemList","offset","limit","get","params","getItemTypes","getItemCount","getHomeItemListByCondition","getItemInfo","meetingId","applyItem","favoriteItem","quitItem","quitFavorite","getUserRelatedItem","transformItemList","map","item","id","meetingid","src","title","mName","time","getTime","startTime","closeTime","favorite","transformAwesomeItemList","isMy","isMyItem","Retry","callback","container","icon","Item","BtnColor","jumpTo","btnShow","ifShowBtn","useBoolean","useImmer","already","BtnStatus","history","useHistory","push","img","itemDefaultSrc","alt","titleBar","StarOutlined","timeBar","ClockCircleOutlined","font","state","Button","Favorite","useState","meetingList","setMeetingList","meetingListR","useRequest","onSuccess","result","meetings","wrapperClassName","spinning","error","err","run","list","index","key"],"mappings":"6KA+BeA,MAPf,YAAqI,IAAD,IAAhHC,YAAgH,MAAzG,SAAyG,EAA/FC,EAA+F,EAA/FA,MAAOC,EAAwF,EAAxFA,UAAWC,EAA6E,EAA7EA,MAAOC,EAAsE,EAAtEA,SAAUC,EAA4D,EAA5DA,QAA4D,IAApDC,eAAoD,SAAtCC,EAAsC,EAAtCA,SAASC,EAA6B,EAA7BA,KACrG,OAEE,uBAAQR,KAAK,UAAUQ,KAAMA,EAAMC,SAAUT,EAAMM,QAASA,EAASJ,UAAS,UAAKQ,IAAMC,IAAX,YAAkBT,GAAaQ,MAAO,CAAE,gBAAmBP,EAAO,SAAW,GAAX,OAAeC,EAAf,OAA+BC,QAASA,EAASE,SAAUA,GAAWN,IC3B1N,mC,oBCCAW,EAAOC,QAAU,CAAC,IAAM,sB,iCCDxB,0YAsCaC,EAAc,SAACC,GAAD,IAAqBC,EAArB,uDAAyC,GAAIC,EAA7C,uDAA+D,GAA/D,OAAsEC,YAAKC,IACpG,CACEC,KAAM,CACJL,YAAaM,mBAAmBC,KAAKC,UAAUR,IAC/CC,SAAUK,mBAAmBC,KAAKC,UAAUP,IAC5CC,UAAWI,mBAAmBC,KAAKC,UAAUN,KAC5CO,IAAK,8BAkBCC,EAAkB,SAACC,EAAgBC,GAC9C,OAAOC,YACLT,IACA,CAAEU,OAAQ,CAAEH,SAAQC,YAwBXG,EAAe,kBAAMF,YAAIT,MAKzBY,EAAa,kBAAIb,YAAKC,MAMtBa,EAA6B,SAAChC,GAAD,OAAmB4B,YAAIT,IAAkC,CAAEU,OAAQ,CAAE7B,WAMlGiC,EAAc,SAACC,GAAD,OAAuBN,YAAIT,IAA2Be,IAYpEC,EAAY,SAACD,GAAD,OAAuBhB,YAAKC,IAAuB,CAAEC,KAAM,CAAEc,aAAaV,IAAK,8BAM3FY,EAAe,SAACF,GAAD,OAAuBhB,YAAKC,IAAyB,CAAEC,KAAM,CAAEc,aAAaV,IAAK,8BAMhGa,EAAW,SAACH,GAAD,OAAuBhB,YAAKC,IAAqB,EAAE,IAAKe,EAAU,CAAEV,IAAK,8BAMpFc,EAAe,SAACJ,GAAD,OAAuBhB,YAAKC,IAAqB,EAAE,IAAIe,EAAW,CAAGV,IAAK,8BAMzFe,EAAqB,SAACvC,GAAD,OAAkB4B,YAAIT,IAAgCnB,K,oBC9IxFY,EAAOC,QAAU,IAA0B,6C,iCCA3C,iFAiBa2B,EAAoB,SAACpB,GAChC,OAAOA,EAAKqB,KAAI,SAAAC,GACd,MAAO,CACLC,GAAID,EAAKE,UACTC,IAAK,GACLC,MAAOJ,EAAKK,MACZC,KAAMC,YAAQP,EAAKQ,UAAWR,EAAKS,WAAU,GAC7CC,UAAU,OAKHC,EAA2B,SAACjC,EAAekC,GACtD,OAAOlC,EAAKqB,KAAI,SAAAC,GACd,MAAO,CACLC,GAAID,EAAKE,UACTC,IAAK,GACLC,MAAOJ,EAAKK,MACZC,KAAMC,YAAQP,EAAKQ,UAAWR,EAAKS,WAAU,GAC7CC,UAAU,EACVG,SAASD,Q,oBCpCf1C,EAAOC,QAAU,CAAC,UAAY,+BAA+B,IAAM,yBAAyB,SAAW,8BAA8B,QAAU,6BAA6B,MAAQ,2BAA2B,KAAO,0BAA0B,KAAO,0BAA0B,IAAM,2B,iCCDvR,+CAkBe2C,IATf,YAA0E,IAA1DtD,EAAyD,EAAzDA,UAAyD,IAA/CsB,WAA+C,MAA3C,8CAA2C,EAAhCiC,EAAgC,EAAhCA,SACvC,OACE,yBAAKvD,UAAS,UAAKA,EAAL,YAAkBQ,IAAMgD,YACpC,8BAAOlC,GACP,kBAAC,IAAD,CAActB,UAAWQ,IAAMiD,KAAMtD,QAASoD,O,oBCZpD7C,EAAOC,QAAU,CAAC,UAAY,yBAAyB,KAAO,sB,qJC+D/C+C,MA/Bf,YAA6D,IACtDC,EADSnB,EAA4C,EAA5CA,KAAKoB,EAAuC,EAAvCA,OAAOC,EAAgC,EAAhCA,SAAgC,SACrDF,KADqD,6BACrDA,EADqD,6BACrDA,MADqD,KAE1D,IAAMG,EAAUC,YAAWF,GAF+B,EAGxBG,YAAS,CACzC/D,MAAO0D,EAASM,QAChBlE,MAAO,iBALiD,mBAGnDmE,EAHmD,KAOpDC,GAPoD,KAO1CC,eAMhB,OACE,yBAAKpE,UAAWQ,IAAMgD,UAAWrD,QALf,WAClBgE,EAAQE,KAAR,WAAiBT,EAAjB,YAA2BpB,EAAKC,OAK9B,yBAAKzC,UAAWQ,IAAM8D,IAAK3B,IAAKH,EAAKG,KAAO4B,IAAgBC,IAAI,KAChE,yBAAKxE,UAAWQ,IAAMiE,UACpB,yBAAKzE,UAAWQ,IAAMoC,OAAQJ,EAAKI,OACnC,kBAAC8B,EAAA,EAAD,OAEF,yBAAK1E,UAAWQ,IAAMmE,SACpB,yBAAK3E,UAAWQ,IAAMsC,MACpB,kBAAC8B,EAAA,EAAD,MACA,yBAAK5E,UAAWQ,IAAMqE,MAAOrC,EAAKM,OAEnCgB,EAAUgB,MAAQ,kBAACC,EAAA,EAAD,iBAAYb,EAAZ,CAAuBhE,SAAU,EAAGF,UAAWQ,IAAMC,OAAU,QC1D1F,mC,oBCCAC,EAAOC,QAAU,CAAC,UAAY,4BAA4B,IAAM,sBAAsB,KAAO,yB,yJCuC9EqE,UAvBf,YAA6C,qBACLC,qBADI,mBACnCC,EADmC,KACtBC,EADsB,KAEpCC,EAAeC,aAAW,kBAAMhD,YAAmB,KAAI,CAC3DiD,UAAW,SAACC,EAAQ5D,GACd4D,EAAOrE,KAAKsE,UACdL,EAAe7C,YAAkBiD,EAAOrE,KAAKsE,cAKnD,OACI,uBAAMC,iBAAkBjF,IAAMgD,UAAWkC,SAAUN,EAAahF,SAE5DgF,EAAaO,MACT,kBAAC,IAAD,CAAO3F,UAAWQ,IAAMoF,IAAKrC,SAAU6B,EAAaS,MACpD,yBAAK7F,UAAWQ,IAAMsF,MAAtB,OAA6BZ,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAa3C,KAAI,SAACC,EAAUuD,GACzD,OAAO,kBAAC,IAAD,CAAMnC,OAAQ,OAAQoC,IAAG,oBAAeD,EAAf,aAAyBvD,EAAKC,IAAMD,KAAMA","file":"static/js/10.f132383b.chunk.js","sourcesContent":["/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-20\r\n * @ Modified by: zao\r\n * @ Description: 全局button组件\r\n */\r\n\r\nimport React, { ReactElement } from 'react';\r\nimport {Button} from 'antd'\r\n\r\nimport style from './Button.module.scss';\r\n\r\ninterface Props {\r\n  type?: 'button' | 'reset' | 'submit';\r\n  value: string;\r\n  className?: string;\r\n  onClick?: any;\r\n  color?: string;\r\n  fontSize?: number;\r\n  loading?: boolean;\r\n  disabled?: boolean;\r\n  size?:'large'|'middle'|'small';\r\n}\r\n\r\nfunction MyButton({ type = 'button', value, className, color, fontSize, onClick,loading=false,disabled,size }: Props): ReactElement {\r\n  return (\r\n    // <button type={type} className={`${style.btn} ${className}`} style={{ 'backgroundColor': color, 'fontSize': `${fontSize}px` }} onClick={onClick}>{value}</button>\r\n    <Button type='primary' size={size} htmlType={type} loading={loading} className={`${style.btn} ${className}`} style={{ 'backgroundColor': color, 'fontSize': `${fontSize}px` }} onClick={onClick} disabled={disabled}>{value}</Button>\r\n  )\r\n}\r\n\r\nexport default MyButton\r\n","export {default} from './Button'","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__2fuTG\"};","import * as config from './config'\r\nimport { get, post } from '../axios'\r\n\r\nexport interface Iitem {\r\n  meetingid?: number;\r\n  mName?: string;\r\n  location?: string;\r\n  startTime?: string;\r\n  closeTime?: string;\r\n  introduction?: string;\r\n  schedule?: string;\r\n  needvolunteer?: string;\r\n  typeid?: number;\r\n  organizer?: string;\r\n  hostedby?: string;\r\n  communicate?: string;\r\n}\r\n\r\nexport interface Itask{\r\n  taskinfo?: string;\r\n  workingtime?: string;\r\n  numbers?: string;\r\n}\r\n\r\nexport interface Iguest{\r\n  introduction?: string;\r\n  name?: string;\r\n  ico?: any;\r\n}\r\n\r\n\r\n\r\n/**\r\n * 发布会议\r\n * @param meeting 会议json\r\n * @param volunt 志愿者json\r\n * @param guests 嘉宾json\r\n */\r\nexport const publishItem = (meetingJson: Iitem, taskJson: Itask[] = [], guestJson:Iguest= {}) => post(config.ADD_MEETING_INFO,\r\n  {\r\n    data: {\r\n      meetingJson: encodeURIComponent(JSON.stringify(meetingJson)),\r\n      taskJson: encodeURIComponent(JSON.stringify(taskJson)),\r\n      guestJson: encodeURIComponent(JSON.stringify(guestJson))\r\n    }, msg: '发布成功'\r\n  })\r\n\r\nexport const addGuest = (meetingId: string, introduction: string, name: string, ico: any) => post(config.ADD_GUEST, {\r\n  data: {\r\n    meetingId,\r\n    introduction,\r\n    name,\r\n    ico\r\n    }\r\n  })\r\n\r\n/**\r\n * 获取主页会议列表\r\n * @param offset 起始位置\r\n * @param limit 条数\r\n * @returns \r\n */\r\nexport const getHomeItemList = (offset: number, limit: number) => {\r\n  return get(\r\n    config._GET_MEETING_HOME_PAGE_DATA,\r\n    { params: { offset, limit } })\r\n}\r\n\r\n/**\r\n * 获取会议主题图\r\n * @param meetingId 会议id\r\n */\r\nexport const getItemIcon = (meetingId: number) => {\r\n  return get(config._GET_MEETING_ICON + meetingId)\r\n}\r\n\r\n/**\r\n * \r\n * @param meetingId 会议id\r\n * @param icon file文件\r\n */\r\nexport const uploadItemIcon = (meetingId: number, icon: any) => {\r\n  return post(config.UPLOAD_MEETING_ICON + meetingId,\r\n    { data: icon }, true)\r\n}\r\n\r\n/**\r\n * 获取会议类型\r\n */\r\nexport const getItemTypes = () => get(config._GET_MEETING_TYPE)\r\n\r\n/**\r\n * 获取会议总数\r\n */\r\nexport const getItemCount=()=>post(config.MEETING_COUNT)\r\n\r\n/**\r\n * 根据会议类型获得列表\r\n * @param type 会议类型\r\n */\r\nexport const getHomeItemListByCondition = (type?: number) => get(config._SEARCH_MEETING_CONDITION, { params: { type } })\r\n\r\n/**\r\n * 获得会议详情\r\n * @param meetingId 会议id\r\n */\r\nexport const getItemInfo = (meetingId: number) => get(config._GET_MEETING_INFO + meetingId)\r\n\r\n/**\r\n * 获取与自己相关的会议信息\r\n * @param type 路径变量中类型：（1为创建 2为参加 3为收藏）\r\n */\r\nexport const getMyItem = (type: number) => get(config.FAVORITE_MEETING)\r\n\r\n/**\r\n * 参加会议\r\n * @param meetingId 会议id\r\n */\r\nexport const applyItem = (meetingId: number) => post(config.ATTEND_MEETING, { data: { meetingId }, msg: '报名成功' })\r\n\r\n/**\r\n * 收藏会议\r\n * @param meetingId 会议id\r\n */\r\nexport const favoriteItem = (meetingId: number) => post(config.FAVORITE_MEETING, { data: { meetingId }, msg: '收藏成功' })\r\n\r\n/**\r\n * 退出会议\r\n * @param meetingId \r\n */\r\nexport const quitItem = (meetingId: number) => post(config.QUIT_MEETING +2+'/'+ meetingId,{ msg: '取消成功' })\r\n\r\n/**\r\n * 取消收藏会议\r\n * @param meetingId\r\n */\r\nexport const quitFavorite = (meetingId: number) => post(config.QUIT_MEETING +3+'/'+meetingId, {  msg: '取消成功' })\r\n\r\n/**\r\n * 获取与自己相关的会议\r\n * @param type 1为创建,2为参加,3为收藏，5志愿者\r\n */\r\nexport const getUserRelatedItem = (type: number) => get(config._GET_USER_RELATED_MEET + type)\r\n\r\n/**\r\n * 获取会议被参加、收藏的次数\r\n * @param meetingId\r\n * @param （2为参加 3为收藏）\r\n */\r\nexport const getRelatedCount = (meetingId: number, type: number) => get(config._GET_MEETING_STATUS_COUNT + type, { params: { meetingId } })\r\n\r\n/**\r\n * 获取自己会议 被参加、收藏、申请志愿者的详细信息\r\n * @param meetingId \r\n * @param type （2为参加 3为收藏）\r\n */\r\nexport const getRelatedInfo = (meetingId: number, type: number) => get(config._GET_USER_CREATED_MEET_INFO + type, { params: { meetingId } })","module.exports = __webpack_public_path__ + \"static/media/item-default@2x.39206224.png\";","import { getTime } from './index'\r\n\r\nexport interface Iitem {\r\n  meetingid: number;\r\n  mName: string | null;\r\n  location: string;\r\n  startTime: string;\r\n  closeTime: string;\r\n  introduction: string;\r\n  schedule: string;\r\n  needvolunteer: number;\r\n  typeid: number;\r\n  organizer: string;\r\n  hostedby: string;\r\n  communicate: string;\r\n}\r\n\r\nexport const transformItemList = (data: Iitem[]) => {\r\n  return data.map(item => {\r\n    return {\r\n      id: item.meetingid,\r\n      src: '',\r\n      title: item.mName,\r\n      time: getTime(item.startTime, item.closeTime,true),\r\n      favorite: false,\r\n    }\r\n  })\r\n}\r\n\r\nexport const transformAwesomeItemList = (data: Iitem[], isMy: boolean) => {\r\n  return data.map(item => {\r\n    return {\r\n      id: item.meetingid,\r\n      src: '',\r\n      title: item.mName,\r\n      time: getTime(item.startTime, item.closeTime,false),\r\n      favorite: false,\r\n      isMyItem:isMy,\r\n    }\r\n  })\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProjectItem_container__2mSZ0\",\"img\":\"ProjectItem_img__L7Yug\",\"titleBar\":\"ProjectItem_titleBar__IxoZA\",\"timeBar\":\"ProjectItem_timeBar__2Jpkn\",\"title\":\"ProjectItem_title__2x5pZ\",\"time\":\"ProjectItem_time__3f7LI\",\"font\":\"ProjectItem_font__3GXdW\",\"btn\":\"ProjectItem_btn__1dN5y\"};","import React, { ReactElement } from 'react'\r\nimport {SyncOutlined} from '@ant-design/icons'\r\nimport style from './Retry.module.scss'\r\ninterface Props {\r\n  msg?: string;\r\n  className?: string;\r\n  callback?: () => any;\r\n}\r\n\r\nfunction Retry({className,msg='请求失败,请重试',callback}: Props): ReactElement {\r\n  return (\r\n    <div className={`${className} ${style.container}`}>\r\n      <span>{msg}</span>\r\n      <SyncOutlined className={style.icon} onClick={callback}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Retry\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Retry_container__1jB8B\",\"icon\":\"Retry_icon__1LNjJ\"};","/**\r\n * @ Author: zao\r\n * @ Create Time: 2020-03-20\r\n * @ Modified by: zao\r\n * @ Description: 全局各个单项比赛，发布的消息item\r\n */\r\n\r\nimport React, {\r\n  ReactElement,\r\n  useState,\r\n} from 'react';\r\n\r\nimport { useImmer } from 'use-immer';\r\n\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport Button from '@/components/commons/Button';\r\nimport {useBoolean} from '@umijs/hooks'\r\nimport {\r\n  ClockCircleOutlined,\r\n  StarOutlined,\r\n} from '@ant-design/icons';\r\n\r\nimport { Iitem } from './';\r\nimport style from './ProjectItem.module.scss';\r\nimport itemDefaultSrc from '@/assets/images/item-default@2x.png'\r\n\r\ninterface Props {\r\n  item: Iitem;\r\n  jumpTo: string;\r\n  btnShow?: boolean;\r\n}\r\n\r\nfunction Item({ item,jumpTo,btnShow }: Props): ReactElement {\r\n  enum BtnColor { already = 'rgba(250,167,48,1)', lapse = 'rgba(159,158,157,1)' }\r\n  const ifShowBtn=useBoolean(btnShow)\r\n  const [BtnStatus, setBtnStatus] = useImmer({\r\n    color: BtnColor.already,\r\n    value: '有效'\r\n  })\r\n  const history = useHistory()\r\n\r\n  const handleClick = () => {\r\n    history.push(`/${jumpTo}/${item.id}`)\r\n  }\r\n\r\n  return (\r\n    <div className={style.container} onClick={handleClick}>\r\n      <img className={style.img} src={item.src || itemDefaultSrc} alt=\"\" />\r\n      <div className={style.titleBar}>\r\n        <div className={style.title}>{item.title}</div>\r\n        <StarOutlined />\r\n      </div>\r\n      <div className={style.timeBar}>\r\n        <div className={style.time}>\r\n          <ClockCircleOutlined />\r\n          <div className={style.font}>{item.time}</div>\r\n        </div>\r\n        {ifShowBtn.state ? <Button {...BtnStatus} fontSize={8} className={style.btn} /> : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Item\r\n","export { default } from './ProjectItem'\r\n\r\nexport interface Iitem {\r\n  id: string;\r\n  src: string;\r\n  title: string;\r\n  favorite: boolean;\r\n  time: string;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Favorite_container__2wd77\",\"err\":\"Favorite_err__3WArl\",\"list\":\"Favorite_list__2-9r0\"};","import React, { ReactElement, useState } from 'react';\r\n\r\nimport { Spin } from 'antd';\r\n\r\nimport Item, { Iitem } from '@/components/commons/ProjectItem';\r\n\r\nimport { getUserRelatedItem } from '@/services/apis/item';\r\nimport { transformItemList } from '@/utils/itemDataTransfer';\r\nimport { useRequest } from '@umijs/hooks'\r\nimport Retry from '@/components/commons/Retry'\r\n\r\nimport style from './Favorite.module.scss';\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nfunction Favorite({ }: Props): ReactElement {\r\n  const [meetingList, setMeetingList] = useState<any[]>()\r\n  const meetingListR = useRequest(() => getUserRelatedItem(3), {\r\n    onSuccess: (result, params) => {\r\n      if (result.data.meetings) {\r\n        setMeetingList(transformItemList(result.data.meetings))\r\n      }\r\n    }\r\n  })\r\n\r\n  return (\r\n      <Spin wrapperClassName={style.container} spinning={meetingListR.loading}>\r\n        {\r\n          meetingListR.error\r\n            ? <Retry className={style.err} callback={meetingListR.run} />\r\n            : <div className={style.list}>{meetingList?.map((item: any,index) => {\r\n              return <Item jumpTo={'info'} key={`favorite--${index}--${item.id}`} item={item} />\r\n            })}</div>\r\n        }\r\n      </Spin>\r\n  )\r\n}\r\n\r\nexport default Favorite\r\n"],"sourceRoot":""}